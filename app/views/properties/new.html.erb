<h1>New Property</h1>

<%= form_with(model: @property, local: true, class: 'needs-validation', novalidate: true) do |form| %>
  <% if @property.errors.any? %>
    <div id="error_explanation" class="alert alert-danger">
      <h2><%= pluralize(@property.errors.count, "error") %> prohibited this property from being saved:</h2>

      <ul>
      <% @property.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= form.label :property_type, class: 'form-label' %>
    <%= form.select :property_type, ['Venta', 'Arriendo'], {}, class: 'form-select', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :price, class: 'form-label' %>
    <%= form.number_field :price, class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :currency, class: 'form-label' %>
    <%= form.select :currency, ['CLP', 'USD'], {}, class: 'form-select', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :commune, class: 'form-label' %>
    <%= form.select :commune, [
      'Arica', 'Camarones', 'Putre', 'General Lagos', 'Iquique', 'Alto Hospicio', 'Huara', 'Camiña',
      'Colchane', 'Pica', 'Pozo Almonte', 'Tocopilla', 'María Elena', 'Calama', 'Ollague', 'San Pedro De Atacama',
      'Antofagasta', 'Mejillones', 'Sierra Gorda', 'Taltal', 'Chañaral', 'Diego De Almagro', 'Copiapó', 'Caldera',
      'Tierra Amarilla', 'Vallenar', 'Freirina', 'Huasco', 'Alto Del Carmen', 'La Serena', 'La Higuera', 'Coquimbo',
      'Andacollo', 'Vicuña', 'Paiguano', 'Ovalle', 'Río Hurtado', 'Monte Patria', 'Combarbalá', 'Punitaqui', 'Illapel',
      'Salamanca', 'Los Vilos', 'Canela', 'Valparaíso', 'Casablanca', 'Concon', 'Juan Fernández', 'Puchuncaví', 'Quilpué',
      'Quintero', 'Villa Alemana', 'Viña Del Mar', 'Petorca', 'La Ligua', 'Cabildo', 'Papudo', 'Zapallar', 'Los Andes',
      'San Esteban', 'Calle Larga', 'Rinconada', 'San Felipe', 'Catemu', 'Llay Llay', 'Panquehue', 'Putaendo', 'Santa María',
      'Quillota', 'La Calera', 'Hijuelas', 'Limache', 'La Cruz', 'Nogales', 'Olmué', 'San Antonio', 'Algarrobo', 'Cartagena',
      'El Quisco', 'El Tabo', 'Santo Domingo', 'Isla De Pascua', 'Rancagua', 'Codegua', 'Coinco', 'Coltauco', 'Doñihue',
      'Graneros', 'Las Cabras', 'Mostazal', 'Machalí', 'Malloa', 'Olivar', 'Peumo', 'Pichidegua', 'Quinta De Tilcoco', 'Rengo',
      'Requinoa', 'San Vicente', 'San Fernando', 'Chépica', 'Chimbarongo', 'Lolol', 'Nancagua', 'Palmilla', 'Peralillo', 'Placilla',
      'Pumanque', 'Santa Cruz', 'Pichilemu', 'La Estrella', 'Litueche', 'Marchigue', 'Navidad', 'Paredones', 'Curicó', 'Teno',
      'Romeral', 'Molina', 'Sagrada Familia', 'Hualañé', 'Licantén', 'Vichuquén', 'Rauco', 'Talca', 'Pelarco', 'Río Claro',
      'San Clemente', 'Maule', 'San Rafael', 'Empedrado', 'Pencahue', 'Constitución', 'Curepto', 'Linares', 'Yerbas Buenas',
      'Colbún', 'Longaví', 'Parral', 'Retiro', 'Villa Alegre', 'San Javier', 'Cauquenes', 'Pelluhue', 'Chanco', 'Chillán', 'Bulnes',
      'Chillán Viejo', 'Cobquecura', 'Coelemu', 'Coihueco', 'El Carmen', 'Ninhue', 'Ñiquén', 'Pemuco', 'Pinto', 'Portezuelo',
      'Quillón', 'Quirihue', 'Ranquil', 'San Carlos', 'San Fabián', 'San Ignacio', 'San Nicolás', 'Trehuaco', 'Yungay', 'Los Angeles',
      'Alto Bio Bio', 'Antuco', 'Cabrero', 'Laja', 'Mulchén', 'Nacimiento', 'Negrete', 'Quilaco', 'Quilleco', 'Santa Bárbara',
      'San Rosendo', 'Tucapel', 'Yumbel', 'Concepción', 'Chiguayante', 'Coronel', 'Florida', 'Hualpén', 'Hualqui', 'Lota',
      'Penco', 'San Pedro De La Paz', 'Santa Juana', 'Talcahuano', 'Tomé', 'Arauco', 'Cañete', 'Contulmo', 'Curanilahue', 'Lebu',
      'Los Alamos', 'Tirua', 'Angol', 'Collipulli', 'Curacautín', 'Ercilla', 'Lonquimay', 'Los Sauces', 'Lumaco', 'Purén',
      'Reinaco', 'Traiguén', 'Victoria', 'Temuco', 'Carahue', 'Cholchol', 'Cunco', 'Curarrehue', 'Freire', 'Galvarino', 'Gorbea',
      'Lautaro', 'Loncoche', 'Melipeuco', 'Nueva Imperial', 'Padre Las Casas', 'Perquenco', 'Pitrufquén', 'Pucón', 'Saavedra',
      'Teodoro Schmidt', 'Toltén', 'Vilcún', 'Villarrica', 'Osorno', 'Puerto Octay', 'Purranque', 'Puyehue', 'Río Negro', 'San Juan De La Costa',
      'San Pablo', 'Calbuco', 'Cochamó', 'Fresia', 'Frutillar', 'Los Muermos', 'Llanquihue', 'Maullín', 'Puerto Montt', 'Puerto Varas',
      'Ancud', 'Castro', 'Curaco De Vélez', 'Chonchi', 'Dalcahue', 'Puqueldón', 'Queilén', 'Quellón', 'Quemchi', 'Quinchao', 'Chaitén',
      'Futaleufú', 'Hualaihué', 'Palena', 'Cochrane', 'OHiggins', 'Tortel', 'Aysén', 'Cisnes', 'Guaitecas', 'Coyhaique', 'Lago Verde',
      'Chile Chico', 'Río Ibañez', 'Natales', 'Torres Del Paine', 'Punta Arenas', 'Río Verde', 'Laguna Blanca', 'San Gregorio', 'Porvenir',
      'Primavera', 'Timaukel', 'Cabo de Hornos', 'Antártica', 'Cerrillos', 'Cerro Navia', 'Conchalí', 'El Bosque', 'Estación Central',
      'Huechuraba', 'Independencia', 'La Cisterna', 'La Florida', 'La Granja', 'La Pintana', 'La Reina', 'Las Condes', 'Lo Barnechea',
      'Lo Espejo', 'Lo Prado', 'Macul', 'Maipú', 'Ñuñoa', 'Pedro Aguirre Cerda', 'Peñalolén', 'Providencia', 'Pudahuel', 'Quilicura',
      'Quinta Normal', 'Recoleta', 'Renca', 'San Joaquín', 'San Miguel', 'San Ramón', 'Santiago', 'Vitacura', 'Puente Alto', 'Pirque',
      'San José De Maipo', 'Melipilla', 'María Pinto', 'Curacaví', 'Alhué', 'San Pedro', 'Talagante', 'El Monte', 'Isla De Maipo',
      'Padre Hurtado', 'Peñaflor', 'Buin', 'Calera De Tango', 'Paine', 'San Bernardo', 'Colina', 'Lampa', 'Til Til', 'Valdivia', 'Corral',
      'Lanco', 'Los Lagos', 'Mafil', 'Mariquina', 'Paillaco', 'Panguipulli', 'La Union', 'Futrono', 'Lago Ranco', 'Río Bueno'
    ], {}, class: 'form-select', required: true, data: { live_search: true } %>
  </div>

  <div class="mb-3">
    <%= form.label :address, class: 'form-label' %>
    <%= form.text_field :address, class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :area, class: 'form-label' %>
    <%= form.number_field :area, class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :bedrooms, class: 'form-label' %>
    <%= form.number_field :bedrooms, class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :bathrooms, class: 'form-label' %>
    <%= form.number_field :bathrooms, class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :latitude, class: 'form-label' %>
    <%= form.number_field :latitude, step: 'any', class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :longitude, class: 'form-label' %>
    <%= form.number_field :longitude, step: 'any', class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :description, class: 'form-label' %>
    <%= form.text_area :description, class: 'form-control', required: true %>
  </div>

  <div class="mb-3">
    <%= form.label :photos, class: 'form-label' %>
    <%= form.file_field :photos, multiple: true, direct_upload: true, class: 'form-control', required: true %>
  </div>

  <div class="actions">
    <%= form.submit 'Create Property', class: 'btn btn-primary' %>
  </div>
<% end %>

<%= link_to 'Back', dashboard_path, class: 'btn btn-secondary mt-3' %>
